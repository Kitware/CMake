cmake_minimum_required(VERSION 2.8.12)
project(VSNASM C ASM_NASM)
if(CMAKE_SIZEOF_VOID_P EQUAL 8)
  add_definitions(-DTESTx64)
  string(APPEND CMAKE_ASM_NASM_FLAGS " -DTEST2x64")
else()
  add_definitions(-DTESTi386)
endif()
include_directories(${CMAKE_CURRENT_SOURCE_DIR}/include)
add_executable(VSNASM main.c foo.asm)
