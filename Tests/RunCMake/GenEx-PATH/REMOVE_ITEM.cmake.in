
include ("${RunCMake_SOURCE_DIR}/check_errors.cmake")
unset (errors)

set (reference "a/b/c.e.f")
cmake_path (REMOVE_FILENAME reference)
set(output "$<PATH:REMOVE_FILENAME,a/b/c.e.f>")
if (NOT output STREQUAL reference)
  list (APPEND errors "FILENAME: '${output}' instead of '${reference}'")
endif()

cmake_path (REMOVE_FILENAME reference)
set(output "$<PATH:REMOVE_FILENAME,a/b/>")
if (NOT output STREQUAL reference)
  list (APPEND errors "FILENAME: '${output}' instead of '${reference}'")
endif()


set (reference "a/b/c.e.f")
cmake_path (REMOVE_EXTENSION reference)
set(output "$<PATH:REMOVE_EXTENSION,a/b/c.e.f>")
if (NOT output STREQUAL reference)
  list (APPEND errors "EXTENSION: '${output}' instead of '${reference}'")
endif()

set (reference "a/b/c.e.f")
cmake_path (REMOVE_EXTENSION reference LAST_ONLY)
set(output "$<PATH:REMOVE_EXTENSION,LAST_ONLY,a/b/c.e.f>")
if (NOT output STREQUAL reference)
  list (APPEND errors "EXTENSION: '${output}' instead of '${reference}'")
endif()
cmake_path (REMOVE_EXTENSION reference)
set(output "$<PATH:REMOVE_EXTENSION,a/b/c.e>")
if (NOT output STREQUAL reference)
  list (APPEND errors "EXTENSION: '${output}' instead of '${reference}'")
endif()

set (reference "a/b/c")
cmake_path (REMOVE_EXTENSION reference)
set(output "$<PATH:REMOVE_EXTENSION,a/b/c>")
if (NOT output STREQUAL reference)
  list (APPEND errors "EXTENSION: '${output}' instead of '${reference}'")
endif()

set (reference "a/b/.c")
cmake_path (REMOVE_EXTENSION reference)
set(output "$<PATH:REMOVE_EXTENSION,a/b/.c>")
if (NOT output STREQUAL reference)
  list (APPEND errors "EXTENSION: '${output}' instead of '${reference}'")
endif()
cmake_path (REMOVE_EXTENSION reference LAST_ONLY)
set(output "$<PATH:REMOVE_EXTENSION,LAST_ONLY,a/b/.c>")
if (NOT output STREQUAL reference)
  list (APPEND errors "EXTENSION: '${output}' instead of '${reference}'")
endif()

set (reference "a/b/.")
cmake_path (REMOVE_EXTENSION reference LAST_ONLY)
set(output "$<PATH:REMOVE_EXTENSION,LAST_ONLY,a/b/.>")
if (NOT output STREQUAL reference)
  list (APPEND errors "EXTENSION: '${output}' instead of '${reference}'")
endif()


check_errors("PATH:REMOVE..." ${errors})
